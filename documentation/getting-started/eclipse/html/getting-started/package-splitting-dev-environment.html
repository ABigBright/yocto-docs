<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>2.8.5.4. Package Splitting</title>
<link rel="stylesheet" type="text/css" href="../book.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Getting Started With Yocto Project">
<link rel="up" href="bitbake-dev-environment.html" title="2.8.5. BitBake">
<link rel="prev" href="configuration-and-compilation-dev-environment.html" title="2.8.5.3. Configuration and Compilation">
<link rel="next" href="image-generation-dev-environment.html" title="2.8.5.5. Image Generation">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" title="2.8.5.4. Package Splitting">
<div class="titlepage"><div><div><h4 class="title">
<a name="package-splitting-dev-environment"></a>2.8.5.4. Package Splitting</h4></div></div></div>
<p>
                After source code is configured and compiled, the
                OpenEmbedded build system analyzes
                the results and splits the output into packages:
                </p>
<table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="630"><tr style="height: 630px"><td align="center"><img src="figures/analysis-for-package-splitting.png" align="middle" width="630"></td></tr></table>
<p>
            </p>
<p>
                The
                <a class="link" href="../ref-manual/ref-tasks-package.html" target="_self"><code class="filename">do_package</code></a>
                and
                <a class="link" href="../ref-manual/ref-tasks-packagedata.html" target="_self"><code class="filename">do_packagedata</code></a>
                tasks combine to analyze
                the files found in the
                <a class="link" href="../ref-manual/var-D.html" target="_self"><code class="filename">D</code></a> directory
                and split them into subsets based on available packages and
                files.
                The analyzing process involves the following as well as other
                items: splitting out debugging symbols,
                looking at shared library dependencies between packages,
                and looking at package relationships.
                The <code class="filename">do_packagedata</code> task creates package
                metadata based on the analysis such that the
                OpenEmbedded build system can generate the final packages.
                Working, staged, and intermediate results of the analysis
                and package splitting process use these areas:
                </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><a class="link" href="../ref-manual/var-PKGD.html" target="_self"><code class="filename">PKGD</code></a> -
                        The destination directory for packages before they are
                        split.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-PKGDATA_DIR.html" target="_self"><code class="filename">PKGDATA_DIR</code></a> -
                        A shared, global-state directory that holds data
                        generated during the packaging process.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-PKGDESTWORK.html" target="_self"><code class="filename">PKGDESTWORK</code></a> -
                        A temporary work area used by the
                        <code class="filename">do_package</code> task.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-PKGDEST.html" target="_self"><code class="filename">PKGDEST</code></a> -
                        The parent directory for packages after they have
                        been split.
                        </p></li>
</ul></div>
<p>
                The <a class="link" href="../ref-manual/var-FILES.html" target="_self"><code class="filename">FILES</code></a>
                variable defines the files that go into each package in
                <a class="link" href="../ref-manual/var-PACKAGES.html" target="_self"><code class="filename">PACKAGES</code></a>.
                If you want details on how this is accomplished, you can
                look at the
                <a class="link" href="../ref-manual/ref-classes-package.html" target="_self"><code class="filename">package</code></a>
                class.
            </p>
<p>
                Depending on the type of packages being created (RPM, DEB, or
                IPK), the <code class="filename">do_package_write_*</code> task
                creates the actual packages and places them in the
                Package Feed area, which is
                <code class="filename">${TMPDIR}/deploy</code>.
                You can see the
                "<a class="link" href="package-feeds-dev-environment.html" title="2.8.4. Package Feeds">Package Feeds</a>"
                section for more detail on that part of the build process.
                </p>
<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
                    Support for creating feeds directly from the
                    <code class="filename">deploy/*</code> directories does not exist.
                    Creating such feeds usually requires some kind of feed
                    maintenance mechanism that would upload the new packages
                    into an official package feed (e.g. the
                    Ångström distribution).
                    This functionality is highly distribution-specific
                    and thus is not provided out of the box.
                </div>
<p>
            </p>
</div></body>
</html>
