<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>2.8.5.1. Source Fetching</title>
<link rel="stylesheet" type="text/css" href="../book.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Getting Started With Yocto Project">
<link rel="up" href="bitbake-dev-environment.html" title="2.8.5. BitBake">
<link rel="prev" href="bitbake-dev-environment.html" title="2.8.5. BitBake">
<link rel="next" href="patching-dev-environment.html" title="2.8.5.2. Patching">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" title="2.8.5.1. Source Fetching">
<div class="titlepage"><div><div><h4 class="title">
<a name="source-fetching-dev-environment"></a>2.8.5.1. Source Fetching</h4></div></div></div>
<p>
                The first stages of building a recipe are to fetch and unpack
                the source code:
                </p>
<table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="585"><tr style="height: 450px"><td align="center"><img src="figures/source-fetching.png" align="middle" width="585"></td></tr></table>
<p>
            </p>
<p>
                The
                <a class="link" href="../ref-manual/ref-tasks-fetch.html" target="_self"><code class="filename">do_fetch</code></a>
                and
                <a class="link" href="../ref-manual/ref-tasks-unpack.html" target="_self"><code class="filename">do_unpack</code></a>
                tasks fetch the source files and unpack them into the work
                directory.
                </p>
<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
                    For every local file (e.g. <code class="filename">file://</code>)
                    that is part of a recipe's
                    <a class="link" href="../ref-manual/var-SRC_URI.html" target="_self"><code class="filename">SRC_URI</code></a>
                    statement, the OpenEmbedded build system takes a checksum
                    of the file for the recipe and inserts the checksum into
                    the signature for the <code class="filename">do_fetch</code>.
                    If any local file has been modified, the
                    <code class="filename">do_fetch</code> task and all tasks that
                    depend on it are re-executed.
                </div>
<p>
                By default, everything is accomplished in the
                <a class="link" href="../ref-manual/build-directory.html" target="_self">Build Directory</a>,
                which has a defined structure.
                For additional general information on the Build Directory,
                see the
                "<a class="link" href="../ref-manual/structure-core-build.html" target="_self"><code class="filename">build/</code></a>"
                section in the Yocto Project Reference Manual.
            </p>
<p>
                Unpacked source files are pointed to by the
                <a class="link" href="../ref-manual/var-S.html" target="_self"><code class="filename">S</code></a>
                variable.
                Each recipe has an area in the Build Directory where the
                unpacked source code resides.
                The name of that directory for any given recipe is defined from
                several different variables.
                You can see the variables that define these directories
                by looking at the figure:
                </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><a class="link" href="../ref-manual/var-TMPDIR.html" target="_self"><code class="filename">TMPDIR</code></a> -
                        The base directory where the OpenEmbedded build system
                        performs all its work during the build.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-PACKAGE_ARCH.html" target="_self"><code class="filename">PACKAGE_ARCH</code></a> -
                        The architecture of the built package or packages.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-TARGET_OS.html" target="_self"><code class="filename">TARGET_OS</code></a> -
                        The operating system of the target device.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-PN.html" target="_self"><code class="filename">PN</code></a> -
                        The name of the built package.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-PV.html" target="_self"><code class="filename">PV</code></a> -
                        The version of the recipe used to build the package.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-PR.html" target="_self"><code class="filename">PR</code></a> -
                        The revision of the recipe used to build the package.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-WORKDIR.html" target="_self"><code class="filename">WORKDIR</code></a> -
                        The location within <code class="filename">TMPDIR</code> where
                        a specific package is built.
                        </p></li>
<li class="listitem"><p><a class="link" href="../ref-manual/var-S.html" target="_self"><code class="filename">S</code></a> -
                        Contains the unpacked source files for a given recipe.
                        </p></li>
</ul></div>
<p>
            </p>
</div></body>
</html>
